(self["webpackChunkbamxx"]=self["webpackChunkbamxx"]||[]).push([[514],{514:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Q});var a=t(3673),r=t(9394),i=t.n(r);const o={class:"col"},d=(0,a._)("div",{class:"row block text-center q-py-lg"},[(0,a._)("h4",null," Sistema del Banco de Alimentos de México ")],-1),l={class:"row items-center justify-around q-py-xl"},u=(0,a._)("div",{class:"flex justify-center"},[(0,a._)("h5",{class:"text-h5 text-red q-pt-xl"},"Bienvenido/a")],-1),n={class:"row items-center justify-around q-pa-xl"};function p(e,s,t,r,p,m){const c=(0,a.up)("q-img"),h=(0,a.up)("q-avatar"),w=(0,a.up)("q-card-section"),f=(0,a.up)("q-icon"),b=(0,a.up)("q-input"),g=(0,a.up)("q-btn"),y=(0,a.up)("q-form"),_=(0,a.up)("q-card"),v=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(v,{class:"bg-white"},{default:(0,a.w5)((()=>[(0,a._)("div",o,[d,(0,a._)("div",l,[(0,a.Wm)(_,{class:"bordered card"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{size:"200px",class:"absolute-center q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{src:i(),width:"120px"})])),_:1})])),_:1}),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{onSubmit:s[3]||(s[3]=e=>m.login())},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{color:"red-8","bg-color":"white",filled:"",modelValue:p.username,"onUpdate:modelValue":s[0]||(s[0]=e=>p.username=e),modelModifiers:{trim:!0},label:"Usuario",autofocus:"","lazy-rules":""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"person"})])),_:1},8,["modelValue"]),(0,a.Wm)(b,{"bg-color":"white",color:"red-8",modelValue:p.password,"onUpdate:modelValue":s[2]||(s[2]=e=>p.password=e),filled:"",label:"Contraseña",type:r.isPwd?"password":"text"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(f,{name:"lock"})])),append:(0,a.w5)((()=>[(0,a.Wm)(f,{name:r.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[1]||(s[1]=e=>r.isPwd=!r.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,a._)("div",n,[(0,a.Wm)(g,{label:"Iniciar Sesión",type:"submit",class:"card__btn"})])])),_:1})])),_:1})])),_:1})])])])),_:1})}var m=t(1959),c=t(5474);const h={setup(){return{isPwd:(0,m.iH)(!0)}},data(){return{username:"",password:(0,m.iH)(""),passwordFieldType:"password",visibility:!1,visibilityIcon:"visibility"}},methods:{success(e){this.$q.notify({message:e,icon:"done",color:"green"})},error(e){this.$q.notify({message:e,icon:"error",color:"red"})},login(){c.api.post("login",{username:this.username,password:this.password}).then((e=>{this.success("Sesión iniciada"),this.$store.commit("updateToken",{token:e.data.token}),this.$store.commit("updateAuth",{auth:!0}),this.$store.commit("updateUserType",{userType:e.data.results[0].userTypeId}),this.$store.commit("updateImage",{image:e.data.results[0].image}),this.$store.commit("updateFirstName",{firstName:e.data.results[0].firstName}),this.$store.commit("updateId",{id:e.data.results[0].id}),1==this.$store.getters.userType&&this.$router.push("/dashboard"),2==this.$store.getters.userType&&this.$router.push("/punto-de-venta"),3==this.$store.getters.userType&&this.$router.push("/dashboard")})).catch((e=>{this.error(e.response.data.Message)}))}},beforeMount(){this.$store.getters.auth&&this.$router.push("/dashboard")}};var w=t(4260),f=t(4379),b=t(151),g=t(5589),y=t(5096),_=t(4027),v=t(8689),x=t(4689),q=t(4554),$=t(8240),W=t(7518),k=t.n(W);const Z=(0,w.Z)(h,[["render",p]]),Q=Z;k()(h,"components",{QPage:f.Z,QCard:b.Z,QCardSection:g.Z,QAvatar:y.Z,QImg:_.Z,QForm:v.Z,QInput:x.Z,QIcon:q.Z,QBtn:$.Z})},9394:(e,s,t)=>{e.exports=t.p+"img/bamx_logo.01c2f515.png"}}]);